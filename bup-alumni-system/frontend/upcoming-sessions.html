<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Upcoming Sessions | BUP Alumni Mentorship</title>

  <!-- Global header/footer styles -->
  <link rel="stylesheet" href="../css/style.css" />
  <!-- Page specific -->
  <link rel="stylesheet" href="../css/upcoming_sessions.css" />
</head>
<body>
  <!-- Header -->
  <div id="header-placeholder"></div>

  <main class="sessions-main">
    <div class="container">
      <div class="page-header">
        <h1>Upcoming Mentorship Sessions</h1>
        <p class="page-subtitle">View and manage all your scheduled mentorship sessions with BUP students.</p>
      </div>

      <!-- Floating Summary Cards -->
      <div class="session-stats">
        <div class="stat-card">
          <h3>Total Sessions</h3>
          <p>12</p>
        </div>
        <div class="stat-card">
          <h3>Next Session</h3>
          <p>Nov 10, 7:00 PM</p>
        </div>
        <div class="stat-card">
          <h3>Pending Confirmations</h3>
          <p>3</p>
        </div>
      </div>

      <!-- Sessions Table -->
      <section class="sessions-table-section">
        <h2>Session Schedule</h2>
        <table class="sessions-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Time</th>
              <th>Student</th>
              <th>Topic</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Nov 9, 2025</td>
              <td>7:00 PM</td>
              <td>Arafat Rahman</td>
              <td>Career Guidance</td>
              <td><span class="status scheduled">Scheduled</span></td>
              <td>
                <button class="btn-view" onclick="openModal('Career Guidance', 'Nov 9, 7:00 PM')">View</button>
                <button class="btn-reschedule" onclick="openModal('Career Guidance', 'Nov 9, 7:00 PM')">Reschedule</button>
              </td>
            </tr>
            <tr>
              <td>Nov 12, 2025</td>
              <td>6:00 PM</td>
              <td>Raihan Hasan</td>
              <td>Data Analytics</td>
              <td><span class="status pending">Pending</span></td>
              <td>
                <button class="btn-view" onclick="openModal('Data Analytics', 'Nov 12, 6:00 PM')">View</button>
                <button class="btn-reschedule" onclick="openModal('Data Analytics', 'Nov 12, 6:00 PM')">Reschedule</button>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>
  </main>

  <!-- View/Reschedule Modal -->
  <div id="sessionModal" class="modal" aria-hidden="true">
    <div class="modal-card">
      <button class="modal-close" id="modalClose">&times;</button>
      <h2>Session Details</h2>
      <p><strong>Topic:</strong> <span id="modalTopic"></span></p>
      <p><strong>Time:</strong> <span id="modalTime"></span></p>
      <label for="newDate">Change Date/Time:</label>
      <input id="newDate" type="datetime-local">
      <div class="modal-actions">
        <button class="btn-primary" id="saveChanges">Save Changes</button>
        <button class="btn-secondary" id="cancelModal">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <!-- JS for includes and modal -->
  <script>
    // Load header/footer
    document.addEventListener("DOMContentLoaded", () => {
      fetch("../includes/header.html")
        .then(res => res.text())
        .then(html => document.getElementById("header-placeholder").innerHTML = html);
      fetch("../includes/footer.html")
        .then(res => res.text())
        .then(html => document.getElementById("footer-placeholder").innerHTML = html);
    });

    // Modal logic
    const modal = document.getElementById("sessionModal");
    const modalTopic = document.getElementById("modalTopic");
    const modalTime = document.getElementById("modalTime");
    const modalClose = document.getElementById("modalClose");
    const cancelModal = document.getElementById("cancelModal");
    const saveChanges = document.getElementById("saveChanges");

    function openModal(topic, time) {
      modalTopic.textContent = topic;
      modalTime.textContent = time;
      modal.style.display = "flex";
      modal.setAttribute("aria-hidden", "false");
    }

    function closeModal() {
      modal.style.display = "none";
      modal.setAttribute("aria-hidden", "true");
    }

    modalClose.addEventListener("click", closeModal);
    cancelModal.addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });

    saveChanges.addEventListener("click", () => {
      alert("Session rescheduled successfully!");
      closeModal();
    });
  </script>
</body>
</html>
